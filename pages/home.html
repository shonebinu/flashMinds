<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="../styles/pico-main/css/pico.min.css">
  <link rel="stylesheet" href="../styles/styles.css">
  <title>Flash Minds</title>

  <script>
      function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1, c.length);
            }
            if (c.indexOf(nameEQ) == 0) {
                return c.substring(nameEQ.length, c.length);
            }
        }
        return null;
    }


    function cookieExists(cookieName) {
      return document.cookie.split(';').some(cookie => {
        return cookie.trim().startsWith(cookieName + '=');
      });
    }

    if (getCookie("colorScheme")) {
      document.querySelector("html").setAttribute("data-theme", getCookie("colorScheme"));
    }

    let userCookieExists = cookieExists('user_id');

    if (!userCookieExists) {
      window.location.href = "../index.html";
    }

  </script>

  <script src="../scripts/home.js" defer></script>
</head>

<body class="home">
  <article id="menu">
    <header>
      <div class="user-profile">
        <div id="gravatar-container"></div>
        <h5 id="user-name"></h5>
      </div>
    </header>
    <aside class="aside-nav">
      <nav>
        <ul>
          <li><a class="point">Review</a></li>
          <li><a data-open-modal class="point">Add Card</a></li>
        </ul>
      </nav>
    </aside>
    <footer>
      <aside class="aside-nav">
        <nav>
          <ul>
            <li><a data-change-avatar class="secondary point">Change Avatar</a></li>
            <li><a id="log-out" class="secondary point">Log out</a></li>
            <li></li>
            <li>
              <button class="contrast" data-theme-toggle>Toggle Theme</button>
            </li>
          </ul>
        </nav>     
      </aside>
    </footer>
  </article>

  <dialog data-modal>
    <article>
      <h2>Add a Card</h2>
      <input type="text" name="question" placeholder="Question?" aria-label="Text" />
      <input type="text" name="answer" placeholder="Answer" aria-label="Text" />
      <footer>
        <button data-close-modal class="secondary">Close</button>
        <button data-confirm-modal>Confirm</button>
      </footer>
    </article>
  </dialog>

  <main class="container">
    <h2>Current Cards</h2>
    <div id="cards-container" class="container">
    </div>
  </main>
</body>

</html>
